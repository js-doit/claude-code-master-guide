---
sidebar_position: 9
title: 코드 리뷰 워크플로우
description: Claude Code를 활용하여 PR 자가 리뷰부터 팀 리뷰 지원까지, 코드 품질을 높이는 리뷰 워크플로우를 구축합니다.
---

# 코드 리뷰 워크플로우

Claude Code는 코드 리뷰의 **두 가지 단계** 모두에서 활용할 수 있습니다: PR 작성자의 자가 리뷰와, 리뷰어의 검토 지원. 두 단계 모두를 Claude로 강화하면 리뷰 품질이 크게 향상됩니다.

## PR 작성자: 자가 리뷰 워크플로우

### 1단계: PR 전 자가 리뷰

PR을 올리기 전에 Claude와 함께 먼저 검토합니다:

```
> git diff main...HEAD 를 확인하고, 내가 놓친 것들을 찾아줘:
  - 테스트가 빠진 로직
  - 하드코딩된 값
  - 에러 처리가 없는 곳
  - 컨벤션에서 벗어난 부분
```

### 2단계: 자동 커밋 메시지 생성

```
> /commit
```

커스텀 Skills로 Conventional Commits 형식의 커밋 메시지를 자동 생성합니다.

### 3단계: PR 설명 자동 작성

```
> 이 PR의 설명을 작성해줘.
  다음 내용을 포함해줘:
  - 변경 이유 (Why)
  - 변경 내용 요약 (What)
  - 테스트 방법
  - 스크린샷 필요 여부

  git diff main...HEAD 와 커밋 메시지를 참고해줘.
```

### 완전한 자가 리뷰 Skill

`.claude/commands/pre-pr.md`:

```markdown
PR을 올리기 전 최종 점검을 진행해줘.

## 단계 1: 변경사항 분석
git diff main...HEAD 로 변경사항을 파악해줘.

## 단계 2: 자가 리뷰
다음 항목을 체크해줘:
- [ ] 새 기능에 테스트 포함
- [ ] 에러 처리 완전성
- [ ] 하드코딩된 값 없음
- [ ] 불필요한 console.log 없음
- [ ] 타입 에러 없음 (tsc --noEmit)
- [ ] 린트 통과 (npm run lint)

## 단계 3: PR 설명 초안
체크 결과를 바탕으로 PR 설명 마크다운을 작성해줘.

## 단계 4: 실제 테스트 실행
npm test 실행하고 결과 알려줘.
```

## 리뷰어: Claude 보조 리뷰 워크플로우

### 리뷰 컨텍스트 파악

리뷰할 PR의 변경사항을 빠르게 이해:

```
> PR #42의 변경사항을 요약해줘.
  어떤 문제를 해결하고, 어떤 방식으로 구현했는지 설명해줘.
  (gh pr diff 42 를 실행해서 확인해줘)
```

### 심층 리뷰 요청

```
> PR #42를 시니어 개발자 관점에서 리뷰해줘.

  특히 다음 관점에서:
  1. 아키텍처 적합성 (기존 패턴과 일관성)
  2. 성능 영향 (쿼리, 루프, 메모리)
  3. 보안 (입력 검증, 인증, 노출)
  4. 엣지 케이스 처리
  5. 테스트 완전성

  발견한 이슈는 GitHub 코멘트 형식으로 작성해줘:
  파일명:줄번호 — 이슈 설명 및 개선 제안
```

### 리뷰 코멘트 자동 작성

```
> 다음 코드에 대한 GitHub 리뷰 코멘트를 작성해줘.
  건설적이고 구체적으로, 개선 방법도 함께 제시해줘:

  [코드 스니펫]
```

## 리뷰 품질 기준 정의

### 팀 리뷰 체크리스트 CLAUDE.md에 포함

```markdown
## 코드 리뷰 기준

### 필수 통과 조건
- 모든 테스트 통과
- 타입 체크 통과 (tsc --noEmit)
- 린트 통과
- 빌드 성공

### 리뷰 포인트 (우선순위 순)
1. 보안 이슈 (블로커)
2. 기능 버그 (블로커)
3. 성능 문제 (중요)
4. 코드 품질 (일반)
5. 스타일 (선택)

### Claude 리뷰 활용 방침
- PR 작성자: PR 올리기 전 /pre-pr Skill 실행 필수
- 리뷰어: 복잡한 로직은 Claude에게 먼저 분석 요청
- 피드백: Claude 제안은 반드시 사람이 검토 후 전달
```

## 실전: 완전한 리뷰 사이클

### PR 작성자 사이드

```bash
# 1. 개발 완료 후 자가 리뷰
/pre-pr

# 2. Claude 제안 사항 반영
claude "방금 리뷰에서 지적된 [문제]를 수정해줘"

# 3. 최종 커밋 및 PR 오픈
/commit
gh pr create --title "..." --body "..."
```

### 리뷰어 사이드

```bash
# 1. PR 전반 파악
claude "gh pr diff $PR_NUM 실행해서 변경사항 요약해줘"

# 2. 심층 리뷰
claude "이 PR의 보안 및 성능 이슈를 집중 분석해줘"

# 3. 특정 코드 이해
claude "이 함수가 왜 이렇게 구현됐는지 설명해줘: [코드]"

# 4. 리뷰 코멘트 작성 지원
claude "이 로직의 문제점을 건설적으로 전달하는 코멘트 작성해줘"
```

## 리뷰 지표 추적

```
> 이번 달 머지된 PR들을 분석해줘.
  gh pr list --state merged --limit 50 로 목록 가져와서:
  - 평균 리뷰 시간
  - 자주 발생하는 리뷰 코멘트 유형
  - 수정 후 재요청이 많은 패턴

  개선할 수 있는 팀 코딩 관행을 제안해줘.
```

## 레벨 4 완료!

이 레벨을 마치면 Claude Code를 **고급 수준**으로 활용할 수 있습니다. 커스텀 Skills로 팀 워크플로우를 자동화하고, Agent SDK로 복잡한 파이프라인을 구축하고, Docker 환경에서 안전하게 에이전트를 실행하는 역량을 갖췄습니다.

---

레벨 4를 완료했습니다! 마스터 레벨로 도전해보세요.

[레벨 5 — 마스터로 →](/docs/level-5/intro)
