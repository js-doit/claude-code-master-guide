---
sidebar_position: 7
title: 메모리 시스템
description: Claude Code의 세 가지 메모리 계층(프로젝트/사용자/세션)을 이해하고, 세션이 바뀌어도 중요한 정보를 유지하는 방법을 배웁니다.
---

# 메모리 시스템

Claude Code는 세션이 끝나면 대화 내용을 기억하지 않습니다. 하지만 이를 보완하는 **세 가지 메모리 계층**이 있습니다. 이 시스템을 잘 활용하면 매번 처음부터 설명하는 번거로움 없이 일관된 AI 파트너를 유지할 수 있습니다.

## 세 가지 메모리 계층

```
┌─────────────────────────────────────────────┐
│  프로젝트 메모리       (project/CLAUDE.md)    │
│  ─ 팀 전체 공유, git 커밋, 영구 유지          │
├─────────────────────────────────────────────┤
│  사용자 메모리         (~/.claude/CLAUDE.md)  │
│  ─ 개인 설정, 전역 적용, 영구 유지            │
├─────────────────────────────────────────────┤
│  세션 메모리           (대화 컨텍스트)          │
│  ─ 현재 세션만, 종료 시 사라짐                │
└─────────────────────────────────────────────┘
```

## 1. 프로젝트 메모리: CLAUDE.md

[CLAUDE.md 챕터](/docs/level-2/claude-md)에서 자세히 다뤘지만, 메모리 관점에서 다시 정리합니다.

**저장 위치**: `{프로젝트 루트}/CLAUDE.md`
**유지 기간**: 영구 (git에 커밋하므로)
**적용 범위**: 해당 프로젝트의 모든 팀원

### 프로젝트 메모리에 저장할 것

```markdown
# My Project

## 기술 스택
[영구적인 기술 스택 정보]

## 팀 컨벤션
[팀 전체가 공유해야 할 규칙]

## 아키텍처 결정사항 (ADR)
[중요한 기술 결정과 이유]

## 현재 진행 상황
[정기적으로 업데이트하는 작업 현황]
```

## 2. 사용자 메모리: 전역 CLAUDE.md

**저장 위치**: `~/.claude/CLAUDE.md` (Windows: `C:\Users\{이름}\.claude\CLAUDE.md`)
**유지 기간**: 영구
**적용 범위**: 내 모든 프로젝트

### 사용자 메모리에 저장할 것

```markdown
# 개인 설정

## 코딩 스타일 선호
- 함수형 프로그래밍 선호
- 짧은 변수명 싫어함 (i, j, k 같은 것 피해줘)
- 주석은 "왜"에 집중 (무엇은 코드로 표현)

## 소통 방식
- 코드 변경 전 반드시 계획 먼저 설명해줘
- 한 번에 너무 많이 바꾸지 말고 단계적으로

## 자주 쓰는 기술
- Next.js, TypeScript, Prisma 주로 씀
- 테스트는 Vitest 선호
- 스타일은 Tailwind CSS

## 내 GitHub
- 사용자명: js-doit
- 기본 브랜치: main
```

이 설정은 모든 프로젝트에 적용됩니다.

### 전역 메모리 초기 설정

처음 Claude Code를 설치했다면 전역 CLAUDE.md부터 만드세요:

```bash
mkdir -p ~/.claude
claude
> 내 코딩 스타일과 선호도 인터뷰해줘. ~/.claude/CLAUDE.md에 저장해줘.
```

Claude Code가 몇 가지 질문을 하고 전역 설정을 만들어줍니다.

## 3. 세션 메모리: 대화 컨텍스트

현재 대화창의 내용입니다. 세션이 끝나면 사라집니다.

### 세션 메모리를 영구화하는 패턴

중요한 결정이나 정보는 세션이 끝나기 전에 저장하세요:

```
> 오늘 결제 모듈 완성했어. 
  중요한 결정사항 있으면 CLAUDE.md에 업데이트해줘.

Claude: CLAUDE.md를 업데이트했습니다:
- 환불 정책: 72시간 내, Stripe API 직접 호출
- 웹훅 시크릿: 환경변수 STRIPE_WEBHOOK_SECRET
- 결제 실패 재시도: 3회, exponential backoff
```

## Auto Memory: Claude Code의 자동 메모리

최신 버전의 Claude Code는 **Auto Memory** 기능을 지원합니다. 중요하다고 판단되는 내용을 자동으로 메모리 파일에 저장합니다.

### Auto Memory 동작 방식

Claude Code가 스스로 판단해서:
1. 반복되는 패턴을 감지
2. 중요한 결정사항을 인식
3. `~/.claude/projects/{프로젝트}/memory/` 디렉토리에 저장

### Auto Memory 파일 구조

```
~/.claude/projects/my-project/memory/
  MEMORY.md        # 주요 메모리 인덱스
  debugging.md     # 디버깅 관련 기억
  patterns.md      # 코드 패턴 기억
```

### Auto Memory 확인

```
/memory

저장된 메모리:
- 이 프로젝트는 pnpm 사용 (npm 금지)
- 테스트 실행: pnpm test:unit
- DB 마이그레이션: pnpm prisma migrate dev
- 주의: production DB는 직접 수정 금지
```

## 메모리 계층별 활용 전략

### 팀 프로젝트

```
프로젝트 CLAUDE.md (git 커밋)
  └─ 팀 컨벤션, 기술 스택, 아키텍처

개인 ~/.claude/CLAUDE.md
  └─ 개인 코딩 스타일, 소통 방식

팀원 각자의 Auto Memory
  └─ 각자의 작업 패턴, 자주 쓰는 명령어
```

### 개인 프로젝트

```
프로젝트 CLAUDE.md
  └─ 프로젝트 현황, 기술 결정사항

개인 ~/.claude/CLAUDE.md
  └─ 전역 설정 (모든 프로젝트에 적용)
```

## 메모리 관리 팁

### 정기적으로 CLAUDE.md 업데이트

작업이 완료될 때마다 현황을 업데이트하세요:

```
> 오늘 작업 끝. CLAUDE.md 현황 섹션 업데이트해줘.
```

### 오래된 정보 정리

메모리가 쌓이면 오히려 혼란이 생깁니다:

```
> CLAUDE.md에서 완료된 항목들 정리해줘. 
  현재 진행 중인 것만 남겨.
```

### 세션 시작 시 컨텍스트 빠르게 복구

새 세션에서 작업을 이어갈 때:

```
> CLAUDE.md 읽고 현재 상황 요약해줘. 
  어디서부터 이어가야 해?
```

## 메모리 시스템 전체 흐름

```
새 세션 시작
│
├─ CLAUDE.md 자동 로드 (프로젝트 메모리)
├─ ~/.claude/CLAUDE.md 자동 로드 (사용자 메모리)
└─ Auto Memory 파일 로드
│
│    [작업 진행]
│
│    중간에 중요한 결정
│    → CLAUDE.md에 즉시 기록
│
│    /compact (컨텍스트 압축)
│    → 핵심 요약 유지
│
세션 종료
│
└─ "오늘 작업 CLAUDE.md에 업데이트해줘"
    → 다음 세션에 이어갈 정보 저장
```

---

다음 챕터: [멀티파일 작업 →](/docs/level-2/multi-file)
